<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="ru" xmlns="http://www.w3.org/1999/xhtml" lang="ru"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" /><title>Парадигмы программирования / Программирование по контракту (1)</title><meta name="author" content="" /><link rel="stylesheet" type="text/css" media="screen, projection, print" href="%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D1%8B%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20_%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%BE%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82%D1%83%20(1)_files/slidy.css" /><link rel="stylesheet" type="text/css" href="%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D1%8B%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20_%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%BE%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82%D1%83%20(1)_files/prettify.css" /><link rel="stylesheet" type="text/css" href="%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D1%8B%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20_%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%BE%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82%D1%83%20(1)_files/kgeorgiy-slides.css" /><script type="text/javascript" async="" src="%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D1%8B%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20_%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%BE%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82%D1%83%20(1)_files/watch.js"></script><script type="text/javascript" src="%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D1%8B%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20_%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%BE%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82%D1%83%20(1)_files/slidy.js" charset="utf-8"></script><script type="text/javascript" src="%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D1%8B%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20_%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%BE%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82%D1%83%20(1)_files/kgeorgiy-slides.js" charset="utf-8"></script><script type="text/javascript" src="%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D1%8B%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20_%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%BE%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82%D1%83%20(1)_files/prettify.js"></script><script type="text/javascript" src="%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D1%8B%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20_%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%BE%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82%D1%83%20(1)_files/lang-sql.js"></script><script type="text/javascript" src="%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D1%8B%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20_%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%BE%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82%D1%83%20(1)_files/lang-javaModule.js"></script><script type="text/javascript" src="%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D1%8B%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20_%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%BE%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82%D1%83%20(1)_files/lang-scala.js"></script></head><body onload="prettyPrint()" style="visibility: visible;" class=" single_slide"><div class=" slidy_toc hidden"><div class=" toc-heading">Оглавление</div><ol><li><a href="#(1)">Парадигмы программирования / Программирование по контракту(1)</a></li><li class=" section"><a href="#(2)">Последовательный код</a></li><li><a href="#(3)">Быстрое возведение в степень</a></li><li class=" subsection"><a href="#(4)">Формализация</a></li><li><a href="#(5)">Пред- и постусловия</a></li><li><a href="#(6)">Условия для БВС</a></li><li><a href="#(7)">Теорема о структурировании</a></li><li><a href="#(8)">Оператор присванивания</a></li><li><a href="#(9)">Последовательность действий</a></li><li><a href="#(10)">Ветвление</a></li><li><a href="#(11)">Цикл</a></li><li><a href="#(12)">Стратегии доказательств</a></li><li class=" subsection"><a href="#(13)">Доказательство</a></li><li><a href="#(14)">Быстрое возведение в степень</a></li><li><a href="#(15)">Инвариант цикла</a></li><li><a href="#(16)">Тело цикла</a></li><li class=" section"><a href="#(17)">Функции</a></li><li class=" subsection"><a href="#(18)">Чистые функции</a></li><li><a href="#(19)">Чистая функция</a></li><li><a href="#(20)">Предусловие</a></li><li><a href="#(21)">Постусловие</a></li><li><a href="#(22)">Контракт чистой функции</a></li><li class=" subsection"><a href="#(23)">Функции с состояниями</a></li><li><a href="#(24)">Сумма с аккумулированием (1)</a></li><li><a href="#(25)">Сумма с аккумулированием (2)</a></li><li><a href="#(26)">Сумма с аккумулированием (3)</a></li><li><a href="#(27)">Инвариант</a></li><li><a href="#(28)">Контракт функции с состоянием</a></li><li><a href="#(29)">Пример нескольких функций</a></li><li class=" section"><a href="#(30)">Заключение</a></li><li><a href="#(31)">Ссылки</a></li><li><a href="#(32)">Вопросы</a></li></ol><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /></div><div id="all" style="font-size: 100%;">
<div class="slide cover first-slide"><div class="content"><div class="course">Парадигмы программирования</div><hr /><div class="lecture">Программирование по контракту<div></div></div><div class="link"><a href="https://kgeorgiy.info/courses/paradigms/">https://kgeorgiy.info/courses/paradigms/</a></div><div class="copyright"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.ru"><span class="copyright">Copyright © Георгий Корнеев</span><img src="%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D1%8B%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20_%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%BE%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82%D1%83%20(1)_files/by-nc-sa.png" alt="Attribution-NonCommercial-ShareAlike" /></a></div></div></div>
<div class="slide section hidden"><div class="content"><h1>Последовательный код</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc current">Последовательный код</a><ol class="level-2 toc-2"><li><a href="#(4)" class="">Формализация</a></li><li><a href="#(13)" class="">Доказательство</a></li></ol></li><li><a href="#(17)" class="toc">Функции</a></li><li><a href="#(30)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">2</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Быстрое возведение в степень</h1><div class="body"><ul class="item-1 level-1"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">int</span><span class="pln"> power</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> a</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> r </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">n </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">n </span><span class="pun">%</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            r </span><span class="pun">*=</span><span class="pln"> a</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        n </span><span class="pun">/=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
        a </span><span class="pun">*=</span><span class="pln"> a</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> r</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">3</span></div></div></div></div>
<div class="slide subsection hidden"><div class="content"><h1>Формализация</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc current">Последовательный код</a><ol class="level-2 toc-2"><li><a href="#(4)" class=" current">Формализация</a></li><li><a href="#(13)" class="">Доказательство</a></li></ol></li><li><a href="#(17)" class="toc">Функции</a></li><li><a href="#(30)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">4</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Пред- и постусловия</h1><div class="body"><ul class="item-1 level-1"><li>Определены на действиях</li><li>Предусловие<ul class="item-2 level-2"><li>Должно быть выполнено до исполнения действия</li></ul></li><li>Постусловие<ul class="item-2 level-2"><li>Выполнено после исполнения действия</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">5</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Условия для БВС</h1><div class="body"><ul class="item-1 level-1"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// pre: n &gt;= 0</span><span class="pln">
</span><span class="com">// post: ℝ = a ^ n</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> power</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> a</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="pun">...</span><span class="pln">
</span><span class="pun">}</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">6</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Теорема о структурировании</h1><div class="body"><ul class="item-1 level-1"><li>Бем и Якопини</li><li>Любой управляющий граф можно составить из<ul class="item-2 level-2"><li>Последовательность</li><li>Ветвление</li><li>Цикл <var>while</var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">7</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Оператор присванивания</h1><div class="body"><ul class="item-1 level-1"><li>Определение<ul class="item-2 level-2"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Pre: P[expr-&gt;x] (подставить expr вместо x)</span><span class="pln">
x </span><span class="pun">=</span><span class="pln"> expr</span><span class="pun">;</span><span class="pln">
</span><span class="com">// Post: P</span></pre></li></ul></li><li>Примеры<ul class="item-2 level-2"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Pre: b == 0</span><span class="pln">
a </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">;</span><span class="pln">
</span><span class="com">// Post: a == 0 ^</span></pre></li><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Pre: a + a == b</span><span class="pln">
a </span><span class="pun">+=</span><span class="pln"> a</span><span class="pun">;</span><span class="pln">
</span><span class="com">// Post: a == b</span></pre></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">8</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Последовательность действий</h1><div class="body"><ul class="item-1 level-1"><li>из<ul class="item-2 level-2"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Pre P1</span><span class="pln">
S1
</span><span class="com">// Post Q1</span></pre></li><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Pre P2</span><span class="pln">
S2
</span><span class="com">// Post Q2</span></pre></li><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="pln">Q1 </span><span class="pun">→</span><span class="pln"> P2</span></pre></li></ul></li><li>следует<ul class="item-2 level-2"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Pre P1</span><span class="pln">
S1</span><span class="pun">;</span><span class="pln"> S2
</span><span class="com">// Post Q2</span></pre></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">9</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Ветвление</h1><div class="body"><ul class="item-1 level-1"><li>из<ul class="item-2 level-2"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Pre P ∧ cond</span><span class="pln">
S1
</span><span class="com">// Post Q</span></pre></li><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Pre P ∧ !cond</span><span class="pln">
S2
</span><span class="com">// Post Q</span></pre></li></ul></li><li>следует<ul class="item-2 level-2"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Pre P</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cond</span><span class="pun">)</span><span class="pln"> S1 </span><span class="kwd">else</span><span class="pln"> S2
</span><span class="com">// Post Q</span></pre></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">10</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Цикл</h1><div class="body"><ul class="item-1 level-1"><li>из<ul class="item-2 level-2"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Pre P ∧ cond</span><span class="pln">
S
</span><span class="com">// Post P</span></pre></li></ul></li><li>следует<ul class="item-2 level-2"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Pre P</span><span class="pln">
</span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cond</span><span class="pun">)</span><span class="pln"> S
</span><span class="com">// Post P ∧ !cond</span></pre></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">11</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Стратегии доказательств</h1><div class="body"><ul class="item-1 level-1"><li>Сверху-вниз<ul class="item-2 level-2"><li>От посылок к следствиям</li><li>Предусловие + действие → постусловие</li></ul></li><li>Снизу-вверх<ul class="item-2 level-2"><li>От следствий к необходимым посылкам</li><li>Постусловие + действие → необходимое предусловие</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">12</span></div></div></div></div>
<div class="slide subsection hidden"><div class="content"><h1>Доказательство</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc current">Последовательный код</a><ol class="level-2 toc-2"><li><a href="#(4)" class="">Формализация</a></li><li><a href="#(13)" class=" current">Доказательство</a></li></ol></li><li><a href="#(17)" class="toc">Функции</a></li><li><a href="#(30)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">13</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Быстрое возведение в степень</h1><div class="body"><ul class="item-1 level-1"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">int</span><span class="pln"> power</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> a</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> r </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">n </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">n </span><span class="pun">%</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            r </span><span class="pun">*=</span><span class="pln"> a</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        n </span><span class="pun">/=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
        a </span><span class="pun">*=</span><span class="pln"> a</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> r</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">14</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Инвариант цикла</h1><div class="body"><ul class="item-1 level-1"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">int</span><span class="pln"> power</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> a</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> r </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
    </span><span class="com">// r' * a'^n' == a^n</span><span class="pln">
    </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">n </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="pun">...</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="com">// r' * a'^n' == a^n ∧ n' == 0</span><span class="pln">
    </span><span class="com">// ⇒ r' == a^n</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> r</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">15</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Тело цикла</h1><div class="body"><ul class="item-1 level-1"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// I ∧ n' != 0</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">n </span><span class="pun">%</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// I ∧ n' % 2 == 1</span><span class="pln">
    r </span><span class="pun">*=</span><span class="pln"> a</span><span class="pun">;</span><span class="pln"> n</span><span class="pun">--;</span><span class="pln">
    </span><span class="com">// I ∧ n' % 2 == 0</span><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// I ∧ n' % 2 == 0</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="com">// I ∧ n' % 2 == 0</span><span class="pln">
n </span><span class="pun">/=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln"> a </span><span class="pun">*=</span><span class="pln"> a</span><span class="pun">;</span><span class="pln">
</span><span class="com">// I</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">16</span></div></div></div></div>
<div class="slide section hidden"><div class="content"><h1>Функции</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Последовательный код</a></li><li><a href="#(17)" class="toc current">Функции</a><ol class="level-2 toc-2"><li><a href="#(18)" class="">Чистые функции</a></li><li><a href="#(23)" class="">Функции с состояниями</a></li></ol></li><li><a href="#(30)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">17</span></div></div></div></div>
<div class="slide subsection hidden"><div class="content"><h1>Чистые функции</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Последовательный код</a></li><li><a href="#(17)" class="toc current">Функции</a><ol class="level-2 toc-2"><li><a href="#(18)" class=" current">Чистые функции</a></li><li><a href="#(23)" class="">Функции с состояниями</a></li></ol></li><li><a href="#(30)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">18</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Чистая функция</h1><div class="body"><ul class="item-1 level-1"><li>Результат зависит только от аргументов</li><li>Не имеет побочных эффектов</li><li>Пример<ul class="item-2 level-2"><li>Функция <var>double sqrt(double x) </var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">19</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Предусловие</h1><div class="body"><ul class="item-1 level-1"><li>Условие, которое должно быть верно на момент вызова<ul class="item-2 level-2"><li><span class="warn">Результат вызова с неверным предусловием не определен</span></li></ul></li><li>Пример <pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// pre: x &gt; 0</span><span class="pln">
</span><span class="kwd">double</span><span class="pln"> sqrt</span><span class="pun">(</span><span class="kwd">double</span><span class="pln"> x</span><span class="pun">)</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">20</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Постусловие</h1><div class="body"><ul class="item-1 level-1"><li>Условие, которое верно на момент возврата<ul class="item-2 level-2"><li><span class="warn">Постусловие не выполнено =&gt; ошибка в программе</span></li></ul></li><li>Пример <pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// post: ℝ * ℝ == x ∧ ℝ ≥ 0</span><span class="pln">
</span><span class="kwd">double</span><span class="pln"> sqrt</span><span class="pun">(</span><span class="kwd">double</span><span class="pln"> x</span><span class="pun">)</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">21</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Контракт чистой функции</h1><div class="body"><ul class="item-1 level-1"><li>Предусловие + постусловие <pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// pre: x &gt; 0</span><span class="pln">
</span><span class="com">// post: ℝ * ℝ == x ∧ ℝ ≥ 0</span><span class="pln">
</span><span class="kwd">double</span><span class="pln"> sqrt</span><span class="pun">(</span><span class="kwd">double</span><span class="pln"> x</span><span class="pun">)</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">22</span></div></div></div></div>
<div class="slide subsection hidden"><div class="content"><h1>Функции с состояниями</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Последовательный код</a></li><li><a href="#(17)" class="toc current">Функции</a><ol class="level-2 toc-2"><li><a href="#(18)" class="">Чистые функции</a></li><li><a href="#(23)" class=" current">Функции с состояниями</a></li></ol></li><li><a href="#(30)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">23</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Сумма с аккумулированием (1)</h1><div class="body"><ul class="item-1 level-1"><li>Реализация <pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Состояние</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="com">// pre: v &gt;= 0</span><span class="pln">
</span><span class="com">// post: ℝ = value + v ∧ value' = value + v</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> add</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> v</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> value </span><span class="pun">+=</span><span class="pln"> v</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">24</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Сумма с аккумулированием (2)</h1><div class="body"><ul class="item-1 level-1"><li>Предусловие на неотрицательность <var>value</var><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Состояние</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="com">// pre: v &gt;= 0 ∧ value &gt;= 0</span><span class="pln">
</span><span class="com">// post: ℝ = value + v ∧ value' = value + v</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> add</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> v</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> value </span><span class="pun">+=</span><span class="pln"> v</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">25</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Сумма с аккумулированием (3)</h1><div class="body"><ul class="item-1 level-1"><li>Постусловие на неотрицательность <var>value</var><pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// Состояние</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="com">// pre: v &gt;= 0 ∧ value &gt;= 0</span><span class="pln">
</span><span class="com">// post: ℝ = value + v ∧ value' = value + v</span><span class="pln">
</span><span class="com">//      ∧ value &gt;= 0</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> add</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> v</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> value </span><span class="pun">+=</span><span class="pln"> v</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">26</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Инвариант</h1><div class="body"><ul class="item-1 level-1"><li>Общая часть пред- и постусловия<ul class="item-2 level-2"><li>Сохраняется всегда</li></ul></li><li>Пример <pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// inv: value &gt;= 0</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="com">// pre: v &gt;= 0</span><span class="pln">
</span><span class="com">// post: ℝ = value + v ∧ value' = value + v</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> add</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> v</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> value </span><span class="pun">+=</span><span class="pln"> v</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">27</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Контракт функции с состоянием</h1><div class="body"><ul class="item-1 level-1"><li>Инвариант + предусловие + постусловие</li><li>Пример <pre class="prettyprint lang-java prettyprinted" style=""><span class="com">// inv: value &gt;= 0</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="com">// pre: v &gt;= 0</span><span class="pln">
</span><span class="com">// post: ℝ = value + v ∧ value' = value + v</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> add</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> v</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> value </span><span class="pun">+=</span><span class="pln"> v</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">28</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Пример нескольких функций</h1><div class="body"><ul class="item-1 level-1"><li><pre class="prettyprint lang-java prettyprinted" style=""><span class="kwd">int</span><span class="pln"> value</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">void</span><span class="pln"> init</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="com">// pre: Был вызван init()</span><span class="pln">
</span><span class="com">// post: value' == value + 1</span><span class="pln">
</span><span class="kwd">void</span><span class="pln"> inc</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> value</span><span class="pun">++;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="com">// pre: Был вызван init()</span><span class="pln">
</span><span class="com">// post: ℝ == value</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> get</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> value</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></pre></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">29</span></div></div></div></div>
<div class="slide section hidden"><div class="content"><h1>Заключение</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Последовательный код</a></li><li><a href="#(17)" class="toc">Функции</a></li><li><a href="#(30)" class="toc current">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">30</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Ссылки</h1><div class="body"><ul class="item-1 level-1"><li><em>Дейкстра Э.</em> Дисциплина программирования</li><li><em>Мейер Б.</em> Объектно-ориентированное конструирование программных систем <a href="http://www.rusedit.com/book.aspx?BookID=1211" target="_blank">http://www.rusedit.com/book.aspx?BookID=1211</a></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">31</span></div></div></div></div>
<div class="slide hidden"><div class="content"><h1>Вопросы</h1><div class="body"><div class="questions">???</div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Парадигмы программирования / Программирование по контракту</span><span class="number">32</span></div></div></div></div></div><script type="text/javascript">
        (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
                try {
                    w.yaCounter19426939 = new Ya.Metrika({
                        id:19426939,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true,
                        webvisor:true
                    });
                } catch(e) { }
            });

            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/watch.js";

            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
        })(document, window, "yandex_metrika_callbacks");
        </script><noscript><div><img src="%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D1%8B%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20_%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%BE%20%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82%D1%83%20(1)_files/19426939.gif" style="position:absolute; left:-9999px;" alt="" /></div></noscript><div class="toolbar hidden" tabindex="0"><div style="float: right; text-align: right"><span>слайд 1/32</span></div><div style="text-align: left"><span style="color: rgb(240, 240, 240);">* </span><a href="http://www.w3.org/Talks/Tools/Slidy2/help/help.html" title="Перемещайтесь кликая мышкой, используя клавишу пробел, стрелкивлево/вправо или Pg Up и Pg Dn. Клавиши S и B меняют размер шрифта.">помощь?</a> <a href="javascript:w3c_slidy.toggle_table_of_contents()" title="оглавление">содержание?</a> </div></div></body></html>